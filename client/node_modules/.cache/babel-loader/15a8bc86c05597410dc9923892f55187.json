{"ast":null,"code":"var _jsxFileName = \"/Users/codeclanstudent/codeclan_work/JavaScript_All_Work_Codeclan/week_8/day_3/lab_hotel_checkins/lab_hotel/client/src/container/BookingsContainer.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport BookingsForm from \"../components/BookingsForm\";\nimport BookingsList from \"../components/BookingsList\";\nimport { getBookings } from \"../BookingsService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction BookingsContainer() {\n  _s();\n\n  const [bookingsList, setBookingsList] = useState([]);\n  useEffect(() => {\n    getBookings().then(allBookings => {\n      setBookingsList(allBookings);\n    });\n  }, []);\n\n  const addBooking = booking => {\n    const x = bookingsList.map(b => b);\n    x.push(booking);\n    setBookingsList(x);\n  };\n\n  const removeBooking = id => {\n    const x = bookingsList.map(b => b);\n    const indexToDel = x.map(b => b._id).indexOf(id);\n    console.log(indexToDel);\n    x.splice(indexToDel, 1);\n    setBookingsList(x);\n  };\n\n  const handleStatusToggle = id => {\n    const updatedBookings = bookings.bookingsList(booking => {\n      if (booking.id === id) {\n        booking.status = !booking.status;\n      }\n\n      return booking;\n    });\n    setBookingsList(updatedBookings);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(BookingsForm, {\n      addBooking: addBooking\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BookingsList, {\n      bookings: bookingsList,\n      removeBooking: removeBooking,\n      onStatusToggle: handleStatusToggle\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(BookingsContainer, \"avZ5o5jmI/btxmzwCX0Mdw1oR/U=\");\n\n_c = BookingsContainer;\nexport default BookingsContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"BookingsContainer\");","map":{"version":3,"sources":["/Users/codeclanstudent/codeclan_work/JavaScript_All_Work_Codeclan/week_8/day_3/lab_hotel_checkins/lab_hotel/client/src/container/BookingsContainer.js"],"names":["useState","useEffect","BookingsForm","BookingsList","getBookings","BookingsContainer","bookingsList","setBookingsList","then","allBookings","addBooking","booking","x","map","b","push","removeBooking","id","indexToDel","_id","indexOf","console","log","splice","handleStatusToggle","updatedBookings","bookings","status"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,SAASC,WAAT,QAA4B,oBAA5B;;;;AAEA,SAASC,iBAAT,GAA6B;AAAA;;AAE3B,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCP,QAAQ,CAAC,EAAD,CAAhD;AAEAC,EAAAA,SAAS,CAAC,MAAI;AACZG,IAAAA,WAAW,GAAGI,IAAd,CAAoBC,WAAD,IAAe;AAClCF,MAAAA,eAAe,CAACE,WAAD,CAAf;AACC,KAFD;AAGD,GAJQ,EAIN,EAJM,CAAT;;AAMA,QAAMC,UAAU,GAAIC,OAAD,IAAY;AAC7B,UAAMC,CAAC,GAAGN,YAAY,CAACO,GAAb,CAAiBC,CAAC,IAAGA,CAArB,CAAV;AACAF,IAAAA,CAAC,CAACG,IAAF,CAAOJ,OAAP;AACAJ,IAAAA,eAAe,CAACK,CAAD,CAAf;AACD,GAJD;;AAMA,QAAMI,aAAa,GAAIC,EAAD,IAAQ;AAC5B,UAAML,CAAC,GAAGN,YAAY,CAACO,GAAb,CAAiBC,CAAC,IAAGA,CAArB,CAAV;AACA,UAAMI,UAAU,GAAGN,CAAC,CAACC,GAAF,CAAMC,CAAC,IAAIA,CAAC,CAACK,GAAb,EAAkBC,OAAlB,CAA0BH,EAA1B,CAAnB;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAYJ,UAAZ;AAEAN,IAAAA,CAAC,CAACW,MAAF,CAASL,UAAT,EAAqB,CAArB;AACAX,IAAAA,eAAe,CAACK,CAAD,CAAf;AACD,GAPD;;AASA,QAAMY,kBAAkB,GAAIP,EAAD,IAAQ;AACjC,UAAMQ,eAAe,GAAGC,QAAQ,CAACpB,YAAT,CAAuBK,OAAD,IAAa;AACzD,UAAIA,OAAO,CAACM,EAAR,KAAeA,EAAnB,EAAsB;AACpBN,QAAAA,OAAO,CAACgB,MAAR,GAAiB,CAAChB,OAAO,CAACgB,MAA1B;AACD;;AACD,aAAOhB,OAAP;AACD,KALuB,CAAxB;AAMAJ,IAAAA,eAAe,CAACkB,eAAD,CAAf;AACD,GARD;;AAUA,sBACE;AAAA,4BAEE,QAAC,YAAD;AAAc,MAAA,UAAU,EAAEf;AAA1B;AAAA;AAAA;AAAA;AAAA,YAFF,eAGE,QAAC,YAAD;AAAc,MAAA,QAAQ,EAAEJ,YAAxB;AAAsC,MAAA,aAAa,EAAEU,aAArD;AAAoE,MAAA,cAAc,EAAEQ;AAApF;AAAA;AAAA;AAAA;AAAA,YAHF;AAAA,kBADF;AAOD;;GA1CQnB,iB;;KAAAA,iB;AA4CT,eAAeA,iBAAf","sourcesContent":["import { useState, useEffect } from \"react\";\nimport BookingsForm from \"../components/BookingsForm\";\nimport BookingsList from \"../components/BookingsList\";\nimport { getBookings } from \"../BookingsService\"\n\nfunction BookingsContainer() {\n\n  const [bookingsList, setBookingsList] = useState([]);\n\n  useEffect(()=>{\n    getBookings().then((allBookings)=>{\n    setBookingsList(allBookings);\n    })\n  }, []);\n\n  const addBooking = (booking) =>{\n    const x = bookingsList.map(b =>b);\n    x.push(booking);\n    setBookingsList(x);\n  }\n\n  const removeBooking = (id) => {\n    const x = bookingsList.map(b =>b);\n    const indexToDel = x.map(b => b._id).indexOf(id);\n    console.log(indexToDel);\n\n    x.splice(indexToDel, 1);\n    setBookingsList(x);\n  }\n\n  const handleStatusToggle = (id) => {\n    const updatedBookings = bookings.bookingsList((booking) => {\n      if (booking.id === id){\n        booking.status = !booking.status\n      }\n      return booking\n    })\n    setBookingsList(updatedBookings)\n  }\n\n  return (\n    <>\n     \n      <BookingsForm addBooking={addBooking}/>\n      <BookingsList bookings={bookingsList} removeBooking={removeBooking} onStatusToggle={handleStatusToggle}/>\n    </>\n  );\n}\n\nexport default BookingsContainer;"]},"metadata":{},"sourceType":"module"}